<section class="hero" *ngIf="!loading && data; else heroLoading" aria-label="Intro">
  <div class="hero__wrap">
    <div class="hero__left">
      <div class="kicker">{{ data.name || 'Rahul Kumar' }}</div>
      <h1 class="headline">{{ data.headline }}</h1>
      <p class="sub" *ngIf="subtitle">{{ subtitle }}</p>

      <div class="cta-row" *ngIf="data.ctas?.length">
        <a *ngFor="let c of (data.ctas || [])"
           class="btn"
           [href]="c.href || '#'"
           target="_blank"
           rel="noopener">{{ c.label }}</a>
      </div>
    </div>

    <div class="hero__right"
         (mouseenter)="onMouseEnter()"
         (mouseleave)="onMouseLeave()"
         (touchstart)="onTouchStart($event)"
         (touchend)="onTouchEnd($event)">

      <div class="slider" role="region" aria-roledescription="carousel" [attr.aria-live]="'polite'">
        <div class="slides" [style.transform]="'translateX(' + (-current * 100) + '%)'" *ngIf="images.length > 0">
          <ng-container *ngFor="let img of images; let i = index">
            <figure class="slide" [attr.aria-hidden]="i !== current">
              <img [src]="img" [alt]="(data.headline || '') + ' image ' + (i+1)" loading="lazy" />
            </figure>
          </ng-container>
        </div>

        <div class="slides" *ngIf="images.length === 0">
          <figure class="slide">
            <div class="placeholder">No hero images</div>
          </figure>
        </div>

        <button class="nav prev" (click)="prev()" aria-label="Previous image" *ngIf="images.length > 1">‹</button>
        <button class="nav next" (click)="next()" aria-label="Next image" *ngIf="images.length > 1">›</button>

        <div class="dots" *ngIf="images.length > 1">
          <button *ngFor="let _ of images; let idx = index"
                  class="dot"
                  [class.active]="idx === current"
                  (click)="goTo(idx)"
                  [attr.aria-label]="'Show image ' + (idx+1)"></button>
        </div>
      </div>

    </div>
  </div>
</section>

<ng-template #heroLoading>
  <section class="hero hero--loading">
    <div class="hero__wrap">
      <div class="hero__left">
        <div class="kicker">Loading…</div>
        <h1 class="headline">Loading hero</h1>
      </div>
      <div class="hero__right"></div>
    </div>
  </section>
</ng-template>
