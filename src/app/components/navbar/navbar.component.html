<nav class="nav" role="navigation" aria-label="Main Navigation">
  <div class="nav__container">
    <a class="nav__brand" routerLink="/" (click)="closeMenu()" title="Home">
      <div class="nav__logo" aria-hidden="true">PM</div>
      <div class="nav__meta">
        <div class="nav__name">Payroll Mint</div>
        <div class="nav__role">Your trusted partner in payroll perfection</div>
      </div>
    </a>

    <!-- Desktop links -->
    <ul class="nav__links" role="menubar"
      [attr.aria-hidden]="menuOpen ? 'true' : 'false'">
      <li><a role="menuitem" routerLink="/" routerLinkActive="active"
          [routerLinkActiveOptions]="{exact:true}">Home</a></li>
      <li><a role="menuitem" routerLink="/service"
          routerLinkActive="active">Services</a></li>
      <li><a role="menuitem" routerLink="/about"
          routerLinkActive="active">About</a></li>
      <li><a role="menuitem" routerLink="/contact"
          routerLinkActive="active">Contact</a></li>
    </ul>

    <!-- Actions: Resume + Hamburger (hamburger visible on small screens via CSS) -->
    <div class="nav__actions">

      <button
        class="nav__burger"
        (click)="toggleMenu()"
        [attr.aria-expanded]="menuOpen"
        aria-controls="mobile-menu"
        aria-label="Toggle menu"
        type="button">
        <svg class="burger-icon" width="20" height="20" viewBox="0 0 24 24"
          aria-hidden="true" focusable="false">
          <path class="line top" d="M4 7h16" stroke="currentColor"
            stroke-width="2" stroke-linecap="round"></path>
          <path class="line mid" d="M4 12h16" stroke="currentColor"
            stroke-width="2" stroke-linecap="round"></path>
          <path class="line bot" d="M4 17h16" stroke="currentColor"
            stroke-width="2" stroke-linecap="round"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile menu: render only when open -->
  <ng-container *ngIf="menuOpen">
    <div id="mobile-menu" class="mobile open" role="dialog" aria-modal="true"
      aria-hidden="false">
      <div class="mobile__inner">
        <ul class="mobile__links" role="menu">
          <li><a role="menuitem" routerLink="/"
              (click)="closeMenu()">Home</a></li>
          <li><a role="menuitem" routerLink="/service"
              (click)="closeMenu()">Services</a></li>
          <li><a role="menuitem" routerLink="/about"
              (click)="closeMenu()">About</a></li>
          <li><a role="menuitem" routerLink="/contact"
              (click)="closeMenu()">Contact</a></li>
        </ul>


        <button class="mobile__close" (click)="closeMenu()"
          aria-label="Close menu">Close</button>
      </div>

      <div class="mobile__backdrop" (click)="closeMenu()" tabindex="-1"
        aria-hidden="true"></div>
    </div>
  </ng-container>
</nav>
